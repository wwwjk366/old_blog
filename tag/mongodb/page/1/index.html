<!DOCTYPE html>
<html lang="en-US"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1"><title>MongoDB – Think. Data. Science.</title><script type="text/x-mathjax-config">MathJax.Hub.Config(
    {tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']], processEscapes: true}});</script><link rel="dns-prefetch" href="//cdn.mathjax.org"><link rel="dns-prefetch" href="//fonts.googleapis.com"><link rel="dns-prefetch" href="//s.w.org"><link rel="stylesheet" id="formidable-css" href="https://wwwjk366.github.io/wp-content/plugins/formidable/css/formidableforms.css" type="text/css" media="all"><link rel="stylesheet" id="crayon-css" href="https://wwwjk366.github.io/wp-content/plugins/crayon-syntax-highlighter/css/min/crayon.min.css" type="text/css" media="all"><link rel="stylesheet" id="crayon-theme-monokai-css" href="https://wwwjk366.github.io/wp-content/plugins/crayon-syntax-highlighter/themes/monokai/monokai.css" type="text/css" media="all"><link rel="stylesheet" id="crayon-font-consolas-css" href="https://wwwjk366.github.io/wp-content/plugins/crayon-syntax-highlighter/fonts/consolas.css" type="text/css" media="all"><link rel="stylesheet" id="fb_data_style-css" href="https://wwwjk366.github.io/wp-content/plugins/feedburner-form/control/fbstyle.css" type="text/css" media="all"><link rel="stylesheet" id="wp-block-library-css" href="https://wwwjk366.github.io/wp-includes/css/dist/block-library/style.min.css" type="text/css" media="all"><link rel="stylesheet" id="pnestyles2-css" href="https://wwwjk366.github.io/wp-content/plugins/plugnedit/css/style.css" type="text/css" media="all"><link rel="stylesheet" id="SFSImainCss-css" href="https://wwwjk366.github.io/wp-content/plugins/ultimate-social-media-icons/css/sfsi-style.css" type="text/css" media="all"><link rel="stylesheet" id="invisible_assassin-style-css" href="https://wwwjk366.github.io/wp-content/themes/invisible-assassin/style.css" type="text/css" media="all"><link rel="stylesheet" id="invisible_assassin-title-font-css" href="//fonts.googleapis.com/css?family=Source+Sans+Pro%3A100%2C300%2C400%2C700&ver=5.1.1" type="text/css" media="all"><link rel="stylesheet" id="invisible_assassin-body-font-css" href="//fonts.googleapis.com/css?family=Source+Sans+Pro%3A100%2C300%2C400%2C700&ver=5.1.1" type="text/css" media="all"><link rel="stylesheet" id="invisible_assassin-fontawesome-style-css" href="https://wwwjk366.github.io/wp-content/themes/invisible-assassin/assets/font-awesome/css/font-awesome.min.css" type="text/css" media="all"><link rel="stylesheet" id="invisible_assassin-nivo-style-css" href="https://wwwjk366.github.io/wp-content/themes/invisible-assassin/assets/css/nivo-slider.css" type="text/css" media="all"><link rel="stylesheet" id="invisible_assassin-nivo-skin-style-css" href="https://wwwjk366.github.io/wp-content/themes/invisible-assassin/assets/css/nivo-default/default.css" type="text/css" media="all"><link rel="stylesheet" id="invisible_assassin-bootstrap-style-css" href="https://wwwjk366.github.io/wp-content/themes/invisible-assassin/assets/bootstrap/css/bootstrap.min.css" type="text/css" media="all"><link rel="stylesheet" id="invisible_assassin-hover-style-css" href="https://wwwjk366.github.io/wp-content/themes/invisible-assassin/assets/css/hover.min.css" type="text/css" media="all"><link rel="stylesheet" id="invisible_assassin-main-theme-style-css" href="https://wwwjk366.github.io/wp-content/themes/invisible-assassin/assets/css/main.css" type="text/css" media="all"><link rel="stylesheet" id="sab-font-css" href="http://fonts.googleapis.com/css?family=Bree+Serif:400,700,400italic,700italic&subset=latin" type="text/css" media="all"><script type="text/javascript" src="https://wwwjk366.github.io/wp-includes/js/jquery/jquery.js"></script><script type="text/javascript" src="https://wwwjk366.github.io/wp-includes/js/jquery/jquery-migrate.min.js"></script><script type="text/javascript">
/* <![CDATA[ */
var CrayonSyntaxSettings = {"version":"_2.7.2_beta","is_admin":"0","ajaxurl":"https:\/\/wwwjk366.github.io\/wp-admin\/admin-ajax.php","prefix":"crayon-","setting":"crayon-setting","selected":"crayon-setting-selected","changed":"crayon-setting-changed","special":"crayon-setting-special","orig_value":"data-orig-value","debug":""};
var CrayonSyntaxStrings = {"copy":"Press %s to Copy, %s to Paste","minimize":"Click To Expand Code"};
/* ]]> */
</script><script type="text/javascript" src="https://wwwjk366.github.io/wp-content/plugins/crayon-syntax-highlighter/js/min/crayon.min.js"></script><script type="text/javascript" src="https://wwwjk366.github.io/wp-content/themes/invisible-assassin/js/external.js"></script><meta name="specificfeeds-verification-code-aWY5TW5QL242cDdTeGN2NjRXL0NaVkpDQzU2Q3QvMS9oU0ExaW16QjlmbDFxMzQyQTZoQmxxMktmWFdVamNUSHdQdERLekRiV0tTUkhCc0xZbzl1elNxd3lrN21wdnFxWTNEZ3VEc1FNMFpoVlVPdGhVaElRS1F1dUdkR25aWXl8cDJiZEdrU08zMzNiTkNzZzhWd1Zqb3c3Q1VUOVI4WVZJTlRIa1k0Q2dyRT0=" content="D0dqPLN4e45Y5Ze8VjzR"><meta name="viewport" content="width=device-width, initial-scale=1"><meta property="og:image" content="https://wwwjk366.github.io/wp-content/uploads/2018/10/lbjmongo.png" data-id="sfsi"><meta property="og:image:type" content="" data-id="sfsi"><meta property="og:image:width" content="853" data-id="sfsi"><meta property="og:image:height" content="597" data-id="sfsi"><meta property="og:url" content="https://wwwjk366.github.io/scrape-valuable-nba-data-and-preserve-in-mongodb/" data-id="sfsi"><meta property="og:description" content="Introduction
New NBA season is coming up (in 2 weeks) and our office is busy organizing fantasy leagues. In order to do well on my first try of fantasy sports, I said to myself:â&#128;&#156;Why don't I build a machine learning model to predict the player performances based on our fantasy leagues specific rules?â&#128;&#157;. It shouldn't be that hard to come up with a simple model to help me draft players. So here comes to the very first question to every machine learning problem â&#128;&#148; Data.

Fortunately, I came across this reddit post. I am really surprised that NBA.com has those API endpoints open to public! Moreover, there are already tools made for those endpoints in both R and Python! It is amazing that you can get almost any data you want from those endpoints(team stats, player stats, play-by-play, etc). Since I am a hardcore R person, I will do this in R.
Install R package
I did my research on this wonderful R package nbaTools. It's has not been taking care of recently but its working mostly fine, except when scrape heavily the NBA.com will block you because of cookies. So I make a small change in the scrape function. The working version in on my github with version number 0.1.1
install.packages(devtools)    # If you don't have devtools already installed
devtools::install_github(wwwjk366/nbaTools)
library(nbaTools)

The part I changed are in the scrape.R file:
 if (source %in% c('NBA', 'NBA.Synergy')) {
    headers['Referer'] <- gsub('%referer%', referer, headers['Referer'])
    h1 <- handle('')
    request <- GET(
      url = gsub('%endpoint%', endpoint, kBaseURL[[source]]),
      query = params,
      do.call(add_headers, headers),
      handle = h1,
      timeout(10)
      # httr::verbose()
    )
    return(content(request, 'parsed'))

So by setting the handle manually h1 <- handle('') then calling the GET using handle = h1 parameter. Let's verify this works:
library(tidyverse, quietly = TRUE)
library(nbaTools)
GetGames(Date = '2017-02-02')

##         GAME_DATE_EST GAME_SEQUENCE    GAME_ID GAME_STATUS_ID
## 1 2017-02-02T00:00:00             1 0021600742              3
## 2 2017-02-02T00:00:00             2 0021600743              3
## 3 2017-02-02T00:00:00             3 0021600744              3
## 4 2017-02-02T00:00:00             4 0021600745              3
##   GAME_STATUS_TEXT        GAMECODE HOME_TEAM_ID VISITOR_TEAM_ID SEASON
## 1            Final 20170202/LALWAS   1610612764      1610612747   2016
## 2            Final 20170202/ATLHOU   1610612745      1610612737   2016
## 3            Final 20170202/PHISAS   1610612759      1610612755   2016
## 4            Final 20170202/GSWLAC   1610612746      1610612744   2016
##   LIVE_PERIOD LIVE_PC_TIME NATL_TV_BROADCASTER_ABBREVIATION
## 1           4           NA                             <NA>
## 2           4           NA                              TNT
## 3           4           NA                             <NA>
## 4           4           NA                              TNT
##   HOME_TV_BROADCASTER_ABBREVIATION AWAY_TV_BROADCASTER_ABBREVIATION
## 1                           NBCSWA                         SpecSN/D
## 2                             <NA>                             <NA>
## 3                          FSSW-SA                           NBCSP+
## 4                             <NA>                             <NA>
##   LIVE_PERIOD_TIME_BCAST        ARENA_NAME WH_STATUS
## 1            Q4       -  Capital One Arena         1
## 2         Q4       - TNT     Toyota Center         1
## 3            Q4       -        AT&T Center         1
## 4         Q4       - TNT    Staples Center         1

Great! This pulled from http://stats.nba.com/stat/scoreboardv2. We can easily grab a very detailed data from NBA.com.

They have a lot of endpoints available, for example:

Box score for a game:
GetBoxScore(GameID = '0021600794') %>% glimpse()

## Observations: 18
## Variables: 28
## $ GAME_ID           <chr> 0021600794, 0021600794, 0021600794, 0...
## $ TEAM_ID           <chr> 1610612745, 1610612745, 1610612745, 1...
## $ TEAM_ABBREVIATION <chr> HOU, HOU, HOU, HOU, HOU, HOU, H...
## $ TEAM_CITY         <chr> Houston, Houston, Houston, Houston, ...
## $ PLAYER_ID         <chr> 2772, 201583, 203991, 201976, 20193...
## $ PLAYER_NAME       <chr> Trevor Ariza, Ryan Anderson, Clint Cape...
## $ START_POSITION    <chr> F, F, C, G, G, , , , F, F...
## $ COMMENT           <lgl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, ...
## $ MIN               <chr> 41:32, 34:58, 26:00, 31:53, 39:27,...
## $ FGM               <int> 4, 5, 5, 7, 8, 1, 7, 2, 4, 3, 4, 5, 6, 3, 2,...
## $ FGA               <int> 11, 11, 8, 15, 21, 4, 10, 7, 9, 8, 8, 10, 14...
## $ FG_PCT            <dbl> 0.364, 0.455, 0.625, 0.467, 0.381, 0.250, 0....
## $ FG3M              <int> 3, 2, 0, 3, 4, 1, 0, 0, 0, 1, 0, 2, 2, 1, 2,...
## $ FG3A              <int> 10, 6, 0, 8, 9, 4, 0, 3, 0, 4, 0, 4, 6, 3, 3...
## $ FG3_PCT           <dbl> 0.300, 0.333, 0.000, 0.375, 0.444, 0.250, 0....
## $ FTM               <int> 0, 2, 1, 0, 10, 2, 1, 0, 0, 5, 1, 3, 0, 1, 0...
## $ FTA               <int> 0, 2, 3, 0, 12, 2, 1, 0, 0, 6, 1, 3, 0, 1, 0...
## $ FT_PCT            <dbl> 0.000, 1.000, 0.333, 0.000, 0.833, 1.000, 1....
## $ OREB              <int> 0, 1, 4, 0, 1, 0, 2, 1, 4, 1, 2, 1, 0, 0, 0,...
## $ DREB              <int> 7, 3, 4, 2, 10, 4, 2, 1, 5, 6, 2, 7, 5, 3, 0...
## $ REB               <int> 7, 4, 8, 2, 11, 4, 4, 2, 9, 7, 4, 8, 5, 3, 0...
## $ AST               <int> 3, 1, 2, 3, 8, 2, 1, 2, 4, 0, 1, 10, 5, 1, 2...
## $ STL               <int> 2, 0, 3, 3, 1, 3, 1, 0, 1, 2, 2, 1, 1, 0, 0,...
## $ BLK               <int> 2, 0, 1, 0, 1, 0, 0, 1, 2, 0, 0, 0, 2, 0, 0,...
## $ TO                <int> 0, 1, 3, 2, 9, 0, 2, 0, 0, 1, 3, 3, 6, 3, 1,...
## $ PF                <int> 2, 2, 4, 0, 4, 4, 3, 0, 1, 2, 3, 3, 3, 1, 0,...
## $ PTS               <int> 11, 14, 11, 17, 30, 5, 15, 4, 8, 12, 9, 15, ...
## $ PLUS_MINUS        <int> 9, 7, 0, 11, 13, 0, 12, 8, -9, -10, -2, -6, ...

Play-by-Play:
GetPlayByPlay(GameID = '0021600794') %>% glimpse()

## Observations: 445
## Variables: 33
## $ GAME_ID                   <chr> 0021600794, 0021600794, 0021600...
## $ EVENTNUM                  <int> 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11...
## $ EVENTMSGTYPE              <int> 12, 10, 1, 2, 4, 2, 4, 2, 4, 5, 5, 2...
## $ EVENTMSGACTIONTYPE        <int> 0, 0, 1, 1, 0, 5, 0, 5, 0, 1, 1, 1, ...
## $ PERIOD                    <int> 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, ...
## $ WCTIMESTRING              <chr> 7:11 PM, 7:11 PM, 7:11 PM, 7:...
## $ PCTIMESTRING              <chr> 12:00, 12:00, 11:41, 11:26, ...
## $ HOMEDESCRIPTION           <chr> NA, Jump Ball Zeller vs. Capela: Ti...
## $ NEUTRALDESCRIPTION        <lgl> NA, NA, NA, NA, NA, NA, NA, NA, NA, ...
## $ VISITORDESCRIPTION        <chr> NA, NA, NA, MISS Anderson 28' 3PT J...
## $ SCORE                     <chr> NA, NA, 0 - 2, NA, NA, NA, NA, NA,...
## $ SCOREMARGIN               <chr> NA, NA, 2, NA, NA, NA, NA, NA, NA,...
## $ PERSON1TYPE               <int> 0, 4, 4, 5, 5, 5, 4, 4, 5, 5, 4, 5, ...
## $ PLAYER1_ID                <chr> 0, 203469, 101107, 201583, ...
## $ PLAYER1_NAME              <chr> NA, Cody Zeller, Marvin Williams...
## $ PLAYER1_TEAM_ID           <chr> NA, 1610612766, 1610612766, 161...
## $ PLAYER1_TEAM_CITY         <chr> NA, Charlotte, Charlotte, Houst...
## $ PLAYER1_TEAM_NICKNAME     <chr> NA, Hornets, Hornets, Rockets,...
## $ PLAYER1_TEAM_ABBREVIATION <chr> NA, CHA, CHA, HOU, HOU, HOU...
## $ PERSON2TYPE               <int> 0, 5, 4, 0, 0, 0, 0, 0, 0, 4, 5, 0, ...
## $ PLAYER2_ID                <chr> 0, 203991, 202689, 0, 0, ...
## $ PLAYER2_NAME              <chr> NA, Clint Capela, Kemba Walker, ...
## $ PLAYER2_TEAM_ID           <chr> NA, 1610612745, 1610612766, NA, ...
## $ PLAYER2_TEAM_CITY         <chr> NA, Houston, Charlotte, NA, NA, ...
## $ PLAYER2_TEAM_NICKNAME     <chr> NA, Rockets, Hornets, NA, NA, NA...
## $ PLAYER2_TEAM_ABBREVIATION <chr> NA, HOU, CHA, NA, NA, NA, NA, NA...
## $ PERSON3TYPE               <int> 0, 4, 0, 0, 0, 4, 0, 0, 0, 0, 0, 0, ...
## $ PLAYER3_ID                <chr> 0, 101107, 0, 0, 0, 20307...
## $ PLAYER3_NAME              <chr> NA, Marvin Williams, NA, NA, NA, ...
## $ PLAYER3_TEAM_ID           <chr> NA, 1610612766, NA, NA, NA, 16106...
## $ PLAYER3_TEAM_CITY         <chr> NA, Charlotte, NA, NA, NA, Charlo...
## $ PLAYER3_TEAM_NICKNAME     <chr> NA, Hornets, NA, NA, NA, Hornets...
## $ PLAYER3_TEAM_ABBREVIATION <chr> NA, CHA, NA, NA, NA, CHA, NA, NA...

Player Bios in playoffs:
GetPlayerBioStats(SeasonType = 'Playoffs', Season = '2017-18') %>% glimpse()

## Observations: 210
## Variables: 23
## $ PLAYER_ID            <chr> 201166, 1628935, 1627846, 201143,...
## $ PLAYER_NAME          <chr> Aaron Brooks, Aaron Jackson, Abdel N...
## $ TEAM_ID              <chr> 1610612750, 1610612745, 1610612738,...
## $ TEAM_ABBREVIATION    <chr> MIN, HOU, BOS, BOS, POR, UTA,...
## $ AGE                  <int> 33, 32, 24, 32, 27, 26, 24, 31, 34, 23, 2...
## $ PLAYER_HEIGHT        <chr> 6-0, 6-3, 6-6, 6-10, 6-9, 6-6...
## $ PLAYER_HEIGHT_INCHES <int> 72, 75, 78, 82, 81, 78, 78, 81, 78, 80, 8...
## $ PLAYER_WEIGHT        <int> 161, 183, 230, 245, 220, 214, 190, 240, 2...
## $ COLLEGE              <chr> Oregon, None, Iowa State, Florida...
## $ COUNTRY              <chr> USA, USA, Egypt, Dominican Republi...
## $ DRAFT_YEAR           <chr> 2007, Undrafted, 2016, 2007, 201...
## $ DRAFT_ROUND          <chr> 1, Undrafted, 2, 1, 1, 1, 2...
## $ DRAFT_NUMBER         <chr> 26, Undrafted, 58, 3, 8, 12, ...
## $ GP                   <int> 2, 7, 11, 19, 4, 9, 6, 8, 15, 5, 8, 9, 19...
## $ PTS                  <dbl> 2.0, 0.7, 1.1, 15.7, 17.3, 9.1, 4.0, 3.3,...
## $ REB                  <dbl> 0.0, 0.6, 0.3, 8.3, 9.0, 2.7, 2.7, 2.9, 4...
## $ AST                  <dbl> 0.0, 0.3, 0.3, 3.3, 1.3, 1.9, 0.3, 1.1, 2...
## $ NET_RATING           <dbl> 9.5, -21.7, -16.0, 5.6, -15.9, 4.4, 12.8,...
## $ OREB_PCT             <dbl> 0.000, 0.111, 0.028, 0.047, 0.081, 0.016,...
## $ DREB_PCT             <dbl> 0.000, 0.105, 0.059, 0.193, 0.212, 0.175,...
## $ USG_PCT              <dbl> 0.500, 0.167, 0.232, 0.181, 0.184, 0.274,...
## $ TS_PCT               <dbl> 0.515, 0.512, 0.358, 0.631, 0.652, 0.581,...
## $ AST_PCT              <dbl> 0.000, 0.200, 0.188, 0.155, 0.062, 0.236,...

Player Real Plus-Minus(RPM)link

Or even some more interesting one like team shot dashboard:
GetTeamShotDashboard(split = 'shot clock', TeamID = 1610612745, Season = '2017-18') %>% glimpse()

## Observations: 6
## Variables: 18
## $ TEAM_ID          <chr> 1610612745, 1610612745, 1610612745, 16...
## $ TEAM_NAME        <chr> Houston Rockets, Houston Rockets, Housto...
## $ SORT_ORDER       <int> 1, 2, 3, 4, 5, 6
## $ G                <int> 81, 81, 81, 81, 81, 81
## $ SHOT_CLOCK_RANGE <chr> 24-22, 22-18 Very Early, 18-15 Early, ...
## $ FGA_FREQUENCY    <dbl> 0.041, 0.163, 0.190, 0.421, 0.086, 0.099
## $ FGM              <dbl> 1.73, 6.96, 7.49, 16.20, 3.38, 2.96
## $ FGA              <dbl> 3.23, 12.96, 15.15, 33.54, 6.86, 7.93
## $ FG_PCT           <dbl> 0.534, 0.537, 0.495, 0.483, 0.493, 0.374
## $ EFG_PCT          <dbl> 0.573, 0.659, 0.600, 0.573, 0.594, 0.456
## $ FG2A_FREQUENCY   <dbl> 0.031, 0.065, 0.088, 0.207, 0.042, 0.042
## $ FG2M             <dbl> 1.48, 3.80, 4.30, 10.14, 2.00, 1.65
## $ FG2A             <dbl> 2.43, 5.17, 6.98, 16.52, 3.37, 3.31
## $ FG2_PCT          <dbl> 0.609, 0.735, 0.616, 0.614, 0.593, 0.500
## $ FG3A_FREQUENCY   <dbl> 0.010, 0.098, 0.103, 0.214, 0.044, 0.058
## $ FG3M             <dbl> 0.25, 3.16, 3.20, 6.06, 1.38, 1.31
## $ FG3A             <dbl> 0.80, 7.79, 8.17, 17.02, 3.49, 4.62
## $ FG3_PCT          <dbl> 0.308, 0.406, 0.391, 0.356, 0.396, 0.283

Or even split it differently by dribble:
GetTeamShotDashboard(split = 'dribble', TeamID = '1610612756', Season = '2017-18') %>% glimpse()

## Observations: 5
## Variables: 18
## $ TEAM_ID        <chr> 1610612756, 1610612756, 1610612756, 1610...
## $ TEAM_NAME      <chr> Phoenix Suns, Phoenix Suns, Phoenix Suns,...
## $ SORT_ORDER     <int> 1, 2, 3, 4, 5
## $ G              <int> 82, 82, 82, 82, 82
## $ DRIBBLE_RANGE  <chr> 0 Dribbles, 1 Dribble, 2 Dribbles, 3-6 D...
## $ FGA_FREQUENCY  <dbl> 0.458, 0.134, 0.105, 0.195, 0.108
## $ FGM            <dbl> 17.93, 5.37, 3.94, 7.41, 3.79
## $ FGA            <dbl> 37.15, 10.88, 8.50, 15.79, 8.79
## $ FG_PCT         <dbl> 0.483, 0.493, 0.463, 0.469, 0.431
## $ EFG_PCT        <dbl> 0.576, 0.525, 0.486, 0.494, 0.458
## $ FG2A_FREQUENCY <dbl> 0.211, 0.107, 0.089, 0.164, 0.089
## $ FG2M           <dbl> 10.95, 4.67, 3.55, 6.65, 3.32
## $ FG2A           <dbl> 17.09, 8.71, 7.23, 13.29, 7.20
## $ FG2_PCT        <dbl> 0.641, 0.536, 0.491, 0.500, 0.461
## $ FG3A_FREQUENCY <dbl> 0.247, 0.027, 0.016, 0.031, 0.020
## $ FG3M           <dbl> 6.98, 0.70, 0.39, 0.77, 0.48
## $ FG3A           <dbl> 20.06, 2.17, 1.27, 2.50, 1.60
## $ FG3_PCT        <dbl> 0.348, 0.320, 0.308, 0.307, 0.298

Setup MongoDB
Because I couldn't get stats.nba.com to work with linux systems, I have to do a full setup in my windows machine. I've never setup the MongoDB in windows before but it seems pretty straightforward following this link. If you want to have a nice GUI interface to your mongoDB, Mongo Compass is a very good choice.
R Interface to MongoDB
I have been using mongolite package in R for over a year now, although the de-serialization in query in not very optimal but since I'm not dealing with crazy amount of data myself(If so, mongo is not recommended for that) so I'm mostly happy with it.

Let's take a look with some examples:
library(mongolite)

# create connection to my local standalone mongoDB server, point to a collection called mtcars
con <- mongo(db = test,collection = mtcars, url = mongodb://localhost:27017)

# delete current data
con$drop()

# insert data into this database
con$insert(mtcars)

## List of 5
##  $ nInserted  : num 32
##  $ nMatched   : num 0
##  $ nRemoved   : num 0
##  $ nUpserted  : num 0
##  $ writeErrors: list()

If you are unfamiliar with NoSQL DB, just think the concept of collections here as tables in SQL databases. Querying the data inside a connection is very straightforward since mongolite is built under S6 framework.
df <- con$find()

head(df)

##                    mpg cyl disp  hp drat    wt  qsec vs am gear carb
## Mazda RX4         21.0   6  160 110 3.90 2.620 16.46  0  1    4    4
## Mazda RX4 Wag     21.0   6  160 110 3.90 2.875 17.02  0  1    4    4
## Datsun 710        22.8   4  108  93 3.85 2.320 18.61  1  1    4    1
## Hornet 4 Drive    21.4   6  258 110 3.08 3.215 19.44  1  0    3    1
## Hornet Sportabout 18.7   8  360 175 3.15 3.440 17.02  0  0    3    2
## Valiant           18.1   6  225 105 2.76 3.460 20.22  1  0    3    1

One thing I like mongo the most is the flexibility. I don't have to worry about schemas, I don't have to create tables before I insert my data, I don't have to worry about the datatypes. I can save a nested dataframe from R directly into Mongo and when I read back, it will be parsed into the original format nicely. For my personal purposes, sometimes I just need a database to hold my data for a certain blog post or project and let me read it when I need it, that is the time Mongo really shines.
Create the scraper
With the help of mongoDB, the scraping because really easy:
library(nbaTools)
library(dplyr)
library(mongolite)
library(httr)
library(futile.logger)
library(utils)

m <-  mongolite::mongo(db = NBA,
                       collection = Games,
                       url = mongodb://localhost:27017)


dates <- seq(as.Date(2016/1/1), as.Date(2018/8/31), days)

for (i in 1:length(dates)) {
  flog.info(paste0(Trying: , i))
  xxx <- etGames(Date = dates[i])
  if(!is.null(xxx)){
    m$insert(xxx)
    flog.info(paste0(Inserted: , i))
  }
}


With a simple for loop, this script will scrape all the game metadata from 2016 to 2018, and save into Mongo collections. But when I actually running this I found that sometimes the nba.com API will get timeout for some request, maybe the traffic controls was in place? Since they do not have a proper documentation, everything is possible here. To be able to solve this we can write a simple retry function that will retry a certain function if the function failed:
retry <- function(expr, isError=function(x) try-error %in% class(x), maxErrors=3, sleep=0) {
  attempts = 0
  retval = try(eval(expr))
  while (isError(retval)) {
    attempts = attempts + 1
    if (attempts >= maxErrors) {
      msg = sprintf(retry: too many retries [[%s]], capture.output(str(retval)))
      flog.fatal(msg)
      stop(msg)
    } else {
      msg = sprintf(retry: error in attempt %i/%i [[%s]], attempts, maxErrors,
                    capture.output(str(retval)))
      flog.error(msg)
      warning(msg)
    }
    if (sleep > 0) Sys.sleep(sleep)
    retval = try(eval(expr))
  }
  return(retval)
}

m <-  mongolite::mongo(db = NBA,
                       collection = Games,
                       url = mongodb://localhost:27017)


dates <- seq(as.Date(2016/1/1), as.Date(2018/8/31), days)

for (i in 1:length(dates)) {
  flog.info(paste0(Trying: , i))
  xxx <- retry(GetGames(Date = dates[i]), maxErrors = 3, sleep = 10)
  if(!is.null(xxx)){
    m$insert(xxx)
    flog.info(paste0(Inserted: , i))
  }
}


I was able to use this simple script to scrape all the games and play-by-play data from nba.com within hours. In my next post I will do some data cleaning, analysis and modeling using this data I saved into Mongo.

" data-id="sfsi"><meta property="og:title" content="Scrape Valuable NBA Data and Preserve in MongoDB" data-id="sfsi"><style id="custom-css-mods">#masthead #site-logo img { transform-origin: left; }.title-font, h1, h2, .section-title, #top-menu ul li a, #static-bar ul li a { font-family: Source Sans Pro; }#masthead h1.site-title a { color: #000000; }#masthead h2.site-description { color: #595959; }</style><style>
	#masthead {
			background-image: url(https://wwwjk366.github.io/wp-content/uploads/2016/03/cropped-new_york-wallpaper-1920x1080-1.jpg);
			background-size: cover;
			background-position-x: center;
			background-repeat: no-repeat;
		}
	</style><style type="text/css" id="custom-background-css">
body.custom-background { background-image: url("https://wwwjk366.github.io/wp-content/uploads/2016/03/cropped-new_york-wallpaper-1920x1080.jpg"); background-position: center top; background-size: auto; background-repeat: no-repeat; background-attachment: fixed; }
</style><link rel="icon" href="https://wwwjk366.github.io/wp-content/uploads/2016/02/HiAppHere_com_com.memorado.brain_.games_-150x150.png" sizes="32x32"><link rel="icon" href="https://wwwjk366.github.io/wp-content/uploads/2016/02/HiAppHere_com_com.memorado.brain_.games_.png" sizes="192x192"><link rel="apple-touch-icon-precomposed" href="https://wwwjk366.github.io/wp-content/uploads/2016/02/HiAppHere_com_com.memorado.brain_.games_.png"><meta name="msapplication-TileImage" content="https://wwwjk366.github.io/wp-content/uploads/2016/02/HiAppHere_com_com.memorado.brain_.games_.png"><script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-74212634-1', 'auto');
  ga('send', 'pageview');
</script><link rel="stylesheet" id="mccss_stylesheet" href="https://wwwjk366.github.io/wp-content/uploads/my_custom_css/my_style.css" type="text/css" media="all"></head><body class="archive tag tag-mongodb tag-31 custom-background">

<div id="page" class="hfeed site">
	<a class="skip-link screen-reader-text" href="#content">Skip to content</a>
	
	<div id="jumbosearch">
		<span class="fa fa-remove closeicon"></span>
		<div class="form">
			<form role="search" method="get" class="search-form" action="https://wwwjk366.github.io/">
				<label>
					<span class="screen-reader-text">Search for:</span>
					<input type="search" class="search-field" placeholder="Search …" value="" name="s"></label>
				<input type="submit" class="search-submit" value="Search"></form>		</div>
	</div>	
	
	<header id="masthead" class="site-header" role="banner"><div class="layer">
			<div id="top-bar">
				<div class="container top-bar-container">	
					
					<div class="social-icons col-md-6">
							<a class="hvr-rectangle-out" href="http://feeds2.feedburner.com/thinkdatascience"><i class="fa fa-rss"></i></a>
		<a class="hvr-rectangle-out" href=""><i class="fa fa-facebook"></i></a>
		
					</div>
	
					<div class="top-search col-md-6">
						<form role="search" method="get" class="search-form" action="https://wwwjk366.github.io/">
				<label>
					<span class="screen-reader-text">Search for:</span>
					<input type="search" class="search-field" placeholder="Search …" value="" name="s"></label>
				<input type="submit" class="search-submit" value="Search"></form>					</div>
				</div>	
			</div>
			
			<div class="site-branding col-md-12">
								<div id="text-title-desc">
				<h1 class="site-title title-font"><a href="https://wwwjk366.github.io/" rel="home">Think. Data. Science.</a></h1>
				<h2 class="site-description title-font">You can have data without information, but you cannot have information without data.</h2>
				</div>
			</div>
				
			<nav id="top-menu"><div class="menu"><ul><li><a href="https://wwwjk366.github.io/">Home</a></li><li class="page_item page-item-180"><a href="https://wwwjk366.github.io/author-michael-yan/">Author – Michael Yan</a></li>
</ul></div>
			</nav></div>	
	</header><div class="mega-container">
			
		<div id="content" class="site-content container">
	<div id="primary" class="content-area col-md-8">
		<main id="main" class="site-main" role="main"><header class="page-header"><h1 class="page-title">Tag: MongoDB</h1>			</header><article id="post-254" class="col-md-12 col-sm-12 grid post-254 post type-post status-publish format-standard has-post-thumbnail hentry category-mongodb category-nba category-r-stuff tag-mongodb tag-nba tag-r"><div class="featured-thumb col-md-4 col-sm-4">
				
				<a href="https://wwwjk366.github.io/scrape-valuable-nba-data-and-preserve-in-mongodb/" title="Scrape Valuable NBA Data and Preserve in MongoDB"><img width="542" height="340" src="https://wwwjk366.github.io/wp-content/uploads/2018/10/lbjmongo-542x340.png" class="attachment-pop-thumb size-pop-thumb wp-post-image" alt=""></a>
					</div>
			
		<div class="out-thumb col-md-8 col-sm-8">
			<header class="entry-header"><h1 class="entry-title title-font"><a class="hvr-underline-reveal" href="https://wwwjk366.github.io/scrape-valuable-nba-data-and-preserve-in-mongodb/" rel="bookmark">Scrape Valuable NBA Data and Preserve in MongoDB</a></h1>
				<div class="postedon"><span class="posted-on">Posted on <a href="https://wwwjk366.github.io/scrape-valuable-nba-data-and-preserve-in-mongodb/" rel="bookmark"><time class="entry-date published updated" datetime="2018-10-08T22:57:25-04:00">October 8, 2018</time></a></span><span class="byline"> by <span class="author vcard"><a class="url fn n" href="https://wwwjk366.github.io/author/wwwjk366/">Michael Yan</a></span></span></div>
				<span class="entry-excerpt">Introduction New NBA season is coming up (in 2 weeks) and our office is busy organizing fantasy leagues. In order to do well on my first try of fantasy sports, I said to myself:â&#128;&#156;Why don’t I bu...</span>
				<span class="readmore"><a href="https://wwwjk366.github.io/scrape-valuable-nba-data-and-preserve-in-mongodb/">Read More</a></span>
			</header></div>
		
</article></main></div>

<div id="secondary" class="widget-area col-md-4" role="complementary">
	<aside id="sfsi-widget-3" class="widget sfsi"><div class="sfsi_widget" data-position="widget">   
				<div id="sfsi_wDiv"></div>
                    <div class="norm_row sfsi_wDiv" style="width:225px;text-align:left;position:absolute;"><div style="width:40px; height:40px;margin-left:5px;margin-bottom:5px;" class="sfsi_wicons shuffeldiv "><div class="inerCnt"><a class=" sficn" effect="fade_in" target="_blank" href="http://feeds.feedburner.com/ThinkDataScience" id="sfsiid_rss" alt="RSS" style="opacity:0.6"><img alt="RSS" title="RSS" src="https://wwwjk366.github.io/wp-content/plugins/ultimate-social-media-icons/images/icons_theme/flat/flat_rss.png" width="40" height="40" style="" class="sfcm sfsi_wicon" effect="fade_in"></a></div></div><div style="width:40px; height:40px;margin-left:5px;margin-bottom:5px;" class="sfsi_wicons shuffeldiv "><div class="inerCnt"><a class=" sficn" effect="fade_in" target="_blank" href="http://www.specificfeeds.com/widgets/emailSubscribeEncFeed/aWY5TW5QL242cDdTeGN2NjRXL0NaVkpDQzU2Q3QvMS9oU0ExaW16QjlmbDFxMzQyQTZoQmxxMktmWFdVamNUSHdQdERLekRiV0tTUkhCc0xZbzl1elNxd3lrN21wdnFxWTNEZ3VEc1FNMFpoVlVPdGhVaElRS1F1dUdkR25aWXl8cDJiZEdrU08zMzNiTkNzZzhWd1Zqb3c3Q1VUOVI4WVZJTlRIa1k0Q2dyRT0=/OA==/" id="sfsiid_email" alt="Follow by Email" style="opacity:0.6"><img alt="Follow by Email" title="Follow by Email" src="https://wwwjk366.github.io/wp-content/plugins/ultimate-social-media-icons/images/icons_theme/flat/flat_email.png" width="40" height="40" style="" class="sfcm sfsi_wicon" effect="fade_in"></a></div></div><div style="width:40px; height:40px;margin-left:5px;margin-bottom:5px;" class="sfsi_wicons shuffeldiv "><div class="inerCnt"><a class=" sficn" effect="fade_in" target="_blank" href="http://" id="sfsiid_facebook" alt="Facebook" style="opacity:0.6"><img alt="Facebook" title="Facebook" src="https://wwwjk366.github.io/wp-content/plugins/ultimate-social-media-icons/images/icons_theme/flat/flat_facebook.png" width="40" height="40" style="" class="sfcm sfsi_wicon" effect="fade_in"></a></div></div><div style="width:40px; height:40px;margin-left:5px;margin-bottom:5px;" class="sfsi_wicons shuffeldiv "><div class="inerCnt"><a class=" sficn" effect="fade_in" target="_blank" href="" id="sfsiid_twitter" alt="Twitter" style="opacity:0.6"><img alt="Twitter" title="Twitter" src="https://wwwjk366.github.io/wp-content/plugins/ultimate-social-media-icons/images/icons_theme/flat/flat_twitter.png" width="40" height="40" style="" class="sfcm sfsi_wicon" effect="fade_in"></a><div class="sfsi_tool_tip_2 twt_tool_bdr sfsiTlleft" style="width:59px ;opacity:0;z-index:-1;margin-left:-46px;" id="sfsiid_twitter"><span class="bot_arow bot_twt_arow"></span><div class="sfsi_inside"><div class="icon2"><a rel="nofollow" href="http://twitter.com/share" data-count="none" class="sr-twitter-button twitter-share-button" lang="en" data-url="https://wwwjk366.github.io/tag/mongodb" data-text="Hey, check out this cool site I found: thinkdatascience.com #Topic via@my_twitter_name"></a></div></div></div></div></div><div style="width:40px; height:40px;margin-left:5px;margin-bottom:5px;" class="sfsi_wicons shuffeldiv "><div class="inerCnt"><a class=" sficn" effect="fade_in" target="_blank" href="https://ca.linkedin.com/in/michaelyan3" id="sfsiid_linkedin" alt="LinkedIn" style="opacity:0.6"><img alt="LinkedIn" title="LinkedIn" src="https://wwwjk366.github.io/wp-content/plugins/ultimate-social-media-icons/images/icons_theme/flat/flat_linkedin.png" width="40" height="40" style="" class="sfcm sfsi_wicon" effect="fade_in"></a></div></div></div><div id="sfsi_holder" class="sfsi_holders" style="position: relative; float: left;width:100%;z-index:-1;"></div><script>jQuery(".sfsi_widget").each(function( index ) {
					if(jQuery(this).attr("data-position") == "widget")
					{
						var wdgt_hght = jQuery(this).children(".norm_row.sfsi_wDiv").height();
						var title_hght = jQuery(this).parent(".widget.sfsi").children(".widget-title").height();
						var totl_hght = parseInt( title_hght ) + parseInt( wdgt_hght );
						jQuery(this).parent(".widget.sfsi").css("min-height", totl_hght+"px");
					}
				});</script><div style="clear: both;"></div>
            </div>
            </aside><aside id="tag_cloud-5" class="widget widget_tag_cloud"><h1 class="widget-title title-font">Tags</h1><div class="tagcloud"><a href="https://wwwjk366.github.io/tag/data/" class="tag-cloud-link tag-link-34 tag-link-position-1" style="font-size: 8pt;" aria-label="Data (1 item)">Data</a>
<a href="https://wwwjk366.github.io/tag/freetds/" class="tag-cloud-link tag-link-14 tag-link-position-2" style="font-size: 11.4054054054pt;" aria-label="Freetds (2 items)">Freetds</a>
<a href="https://wwwjk366.github.io/tag/iphonese/" class="tag-cloud-link tag-link-20 tag-link-position-3" style="font-size: 8pt;" aria-label="iphoneSE (1 item)">iphoneSE</a>
<a href="https://wwwjk366.github.io/tag/kaggle/" class="tag-cloud-link tag-link-27 tag-link-position-4" style="font-size: 8pt;" aria-label="Kaggle (1 item)">Kaggle</a>
<a href="https://wwwjk366.github.io/tag/linux/" class="tag-cloud-link tag-link-11 tag-link-position-5" style="font-size: 11.4054054054pt;" aria-label="Linux (2 items)">Linux</a>
<a href="https://wwwjk366.github.io/tag/machine-learning/" class="tag-cloud-link tag-link-28 tag-link-position-6" style="font-size: 8pt;" aria-label="Machine Learning (1 item)">Machine Learning</a>
<a href="https://wwwjk366.github.io/tag/mongodb/" class="tag-cloud-link tag-link-31 tag-link-position-7" style="font-size: 8pt;" aria-label="MongoDB (1 item)">MongoDB</a>
<a href="https://wwwjk366.github.io/tag/mysql/" class="tag-cloud-link tag-link-15 tag-link-position-8" style="font-size: 8pt;" aria-label="MySQL (1 item)">MySQL</a>
<a href="https://wwwjk366.github.io/tag/nba/" class="tag-cloud-link tag-link-33 tag-link-position-9" style="font-size: 8pt;" aria-label="NBA (1 item)">NBA</a>
<a href="https://wwwjk366.github.io/tag/nlp/" class="tag-cloud-link tag-link-22 tag-link-position-10" style="font-size: 8pt;" aria-label="NLP (1 item)">NLP</a>
<a href="https://wwwjk366.github.io/tag/oscar/" class="tag-cloud-link tag-link-17 tag-link-position-11" style="font-size: 8pt;" aria-label="Oscar (1 item)">Oscar</a>
<a href="https://wwwjk366.github.io/tag/parallel-computing/" class="tag-cloud-link tag-link-26 tag-link-position-12" style="font-size: 8pt;" aria-label="Parallel Computing (1 item)">Parallel Computing</a>
<a href="https://wwwjk366.github.io/tag/r/" class="tag-cloud-link tag-link-3 tag-link-position-13" style="font-size: 22pt;" aria-label="R (10 items)">R</a>
<a href="https://wwwjk366.github.io/tag/rodbc/" class="tag-cloud-link tag-link-18 tag-link-position-14" style="font-size: 8pt;" aria-label="RODBC (1 item)">RODBC</a>
<a href="https://wwwjk366.github.io/tag/rstudio-server/" class="tag-cloud-link tag-link-10 tag-link-position-15" style="font-size: 11.4054054054pt;" aria-label="Rstudio Server (2 items)">Rstudio Server</a>
<a href="https://wwwjk366.github.io/tag/sentiment-analysis/" class="tag-cloud-link tag-link-19 tag-link-position-16" style="font-size: 11.4054054054pt;" aria-label="sentiment analysis (2 items)">sentiment analysis</a>
<a href="https://wwwjk366.github.io/tag/syuzhet/" class="tag-cloud-link tag-link-21 tag-link-position-17" style="font-size: 8pt;" aria-label="syuzhet (1 item)">syuzhet</a>
<a href="https://wwwjk366.github.io/tag/text-mining/" class="tag-cloud-link tag-link-16 tag-link-position-18" style="font-size: 13.6756756757pt;" aria-label="text mining (3 items)">text mining</a>
<a href="https://wwwjk366.github.io/tag/twitter/" class="tag-cloud-link tag-link-4 tag-link-position-19" style="font-size: 11.4054054054pt;" aria-label="TwitteR (2 items)">TwitteR</a>
<a href="https://wwwjk366.github.io/tag/ubuntu/" class="tag-cloud-link tag-link-13 tag-link-position-20" style="font-size: 11.4054054054pt;" aria-label="Ubuntu (2 items)">Ubuntu</a>
<a href="https://wwwjk366.github.io/tag/ubuntu-server/" class="tag-cloud-link tag-link-9 tag-link-position-21" style="font-size: 8pt;" aria-label="Ubuntu Server (1 item)">Ubuntu Server</a></div>
</aside><aside id="subscriber_widget-3" class="widget widget_subscriber_widget"><div class="sfsi_subscribe_Popinner">
					<form method="post" onsubmit="return sfsi_processfurther(this);" target="popupwindow" action="https://www.specificfeeds.com/widgets/subscribeWidget/aWY5TW5QL242cDdTeGN2NjRXL0NaVkpDQzU2Q3QvMS9oU0ExaW16QjlmbDFxMzQyQTZoQmxxMktmWFdVamNUSHdQdERLekRiV0tTUkhCc0xZbzl1elNxd3lrN21wdnFxWTNEZ3VEc1FNMFpoVlVPdGhVaElRS1F1dUdkR25aWXl8cDJiZEdrU08zMzNiTkNzZzhWd1Zqb3c3Q1VUOVI4WVZJTlRIa1k0Q2dyRT0=/8/">
						<h5>Get new posts by email</h5>
						<div class="sfsi_subscription_form_field">
							<input type="email" name="data[Widget][email]" value="" placeholder="Enter your email"></div>
						<div class="sfsi_subscription_form_field">
							<input type="hidden" name="data[Widget][feed_id]" value="aWY5TW5QL242cDdTeGN2NjRXL0NaVkpDQzU2Q3QvMS9oU0ExaW16QjlmbDFxMzQyQTZoQmxxMktmWFdVamNUSHdQdERLekRiV0tTUkhCc0xZbzl1elNxd3lrN21wdnFxWTNEZ3VEc1FNMFpoVlVPdGhVaElRS1F1dUdkR25aWXl8cDJiZEdrU08zMzNiTkNzZzhWd1Zqb3c3Q1VUOVI4WVZJTlRIa1k0Q2dyRT0="><input type="hidden" name="data[Widget][feedtype]" value="8"><input type="submit" name="subscribe" value="Subscribe"></div>
					</form>
				</div></aside><aside id="recent-posts-4" class="widget widget_recent_entries"><h1 class="widget-title title-font">Recent Posts</h1>		<ul><li>
					<a href="https://wwwjk366.github.io/two-simple-yet-powerful-packages-r/">Two Simple Yet Powerful Packages that Every Data Scientist using R Should Know</a>
									</li>
											<li>
					<a href="https://wwwjk366.github.io/a-non-modeling-approach-scored-top-50-in-a-data-science-competition/">A Non-Modeling Approach Scored Top 50 in a Data Science Competition</a>
									</li>
											<li>
					<a href="https://wwwjk366.github.io/scrape-valuable-nba-data-and-preserve-in-mongodb/">Scrape Valuable NBA Data and Preserve in MongoDB</a>
									</li>
											<li>
					<a href="https://wwwjk366.github.io/pbdr-a-forgotten-mpi-tool-for-r/">pbdR — A Forgotten MPI Tool for R</a>
									</li>
											<li>
					<a href="https://wwwjk366.github.io/home-credit-default-risk-kaggle-competition-summary-2/">Home Credit Default Risk Kaggle Competition Summary</a>
									</li>
					</ul></aside><aside id="rss-3" class="widget widget_rss"><h1 class="widget-title title-font"><a class="rsswidget" href="http://feeds.feedburner.com/RBloggers"><img class="rss-widget-icon" style="border:0" width="14" height="14" src="https://wwwjk366.github.io/wp-includes/images/rss.png" alt="RSS"></a> <a class="rsswidget" href="https://www.r-bloggers.com/">r-bloggers</a></h1><ul><li><a class="rsswidget" href="http://feedproxy.google.com/~r/RBloggers/~3/fYcMd_HYUcA/">#22: Using Rocker and PPAs for Fun and Profit</a></li><li><a class="rsswidget" href="http://feedproxy.google.com/~r/RBloggers/~3/GU9OCPrfG_k/">Wrapping Up Exploration of John Deereâ&#128;&#153;s MowerPlus Database</a></li><li><a class="rsswidget" href="http://feedproxy.google.com/~r/RBloggers/~3/hIY1Xr5nwXw/">littler 0.3.8: Several nice new features</a></li><li><a class="rsswidget" href="http://feedproxy.google.com/~r/RBloggers/~3/R50H21r4W-0/">The most important chart for long-term investors</a></li><li><a class="rsswidget" href="http://feedproxy.google.com/~r/RBloggers/~3/CjGAARpTPic/">Running UMAP for data visualisation in R</a></li></ul></aside></div>

	</div>

	 </div>
 
	<footer id="colophon" class="site-footer" role="contentinfo"><div class="site-info container">
			Theme Designed by <a href="http://rohitink.com" rel="nofollow">Rohit</a>.			<span class="sep"></span>
			Â© 2016 Michael Yan All Rights Reserved.		</div>
	</footer></div>


        
        <div id="fb-root"></div>
		<script>(function(d, s, id) {
			var js, fjs = d.getElementsByTagName(s)[0];
		  	if (d.getElementById(id)) return;
		  	js = d.createElement(s); js.id = id;
		  	js.src = "//connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.5";
		  	fjs.parentNode.insertBefore(js, fjs);
		}(document, 'script', 'facebook-jssdk'));</script><script src="//platform.linkedin.com/in.js" type="text/javascript">lang: en_US</script><script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="https://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script><script>
                jQuery( document ).scroll(function( $ )
                {
                    var y = jQuery(this).scrollTop();
            
                    if (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent))
                    {    
                       if(jQuery(window).scrollTop() + jQuery(window).height() >= jQuery(document).height()-100)
                       {
                          jQuery('.sfsi_outr_div').css({'z-index':'9996',opacity:1,top:jQuery(window).scrollTop()+"px",position:"absolute"});
                          jQuery('.sfsi_outr_div').fadeIn(200);
                          jQuery('.sfsi_FrntInner_chg').fadeIn(200);
                       }
                       else{
                           jQuery('.sfsi_outr_div').fadeOut();
                           jQuery('.sfsi_FrntInner_chg').fadeOut();
                       }
                  }
                  else
                  {
                       if(jQuery(window).scrollTop() + jQuery(window).height() >= jQuery(document).height()-3)
                       {
                            jQuery('.sfsi_outr_div').css({'z-index':'9996',opacity:1,top:jQuery(window).scrollTop()+200+"px",position:"absolute"});
                            jQuery('.sfsi_outr_div').fadeIn(200);
                            jQuery('.sfsi_FrntInner_chg').fadeIn(200);
                       }
                       else
                       {
                         jQuery('.sfsi_outr_div').fadeOut();
                         jQuery('.sfsi_FrntInner_chg').fadeOut();
                       }
                  } 
                });
             </script><script>
			jQuery(document).ready(function(e) {
                jQuery("body").addClass("sfsi_2.20")
            });
			function sfsi_processfurther(ref) {
				var feed_id = 'aWY5TW5QL242cDdTeGN2NjRXL0NaVkpDQzU2Q3QvMS9oU0ExaW16QjlmbDFxMzQyQTZoQmxxMktmWFdVamNUSHdQdERLekRiV0tTUkhCc0xZbzl1elNxd3lrN21wdnFxWTNEZ3VEc1FNMFpoVlVPdGhVaElRS1F1dUdkR25aWXl8cDJiZEdrU08zMzNiTkNzZzhWd1Zqb3c3Q1VUOVI4WVZJTlRIa1k0Q2dyRT0=';
				var feedtype = 8;
				var email = jQuery(ref).find('input[name="data[Widget][email]"]').val();
				var filter = /^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/;
				if ((email != "Enter your email") && (filter.test(email))) {
					if (feedtype == "8") {
						var url ="https://www.specificfeeds.com/widgets/subscribeWidget/"+feed_id+"/"+feedtype;
						window.open('', "popupwindow", "scrollbars=yes,width=1080,height=760");
						ref.action=url;
						ref.target="popupwindow";
						return true;
					}else{
						return false
					}
				} else {
					alert("Please enter email address");
					jQuery(ref).find('input[name="data[Widget][email]"]').focus();
					return false;
				}
			}
		</script><style type="text/css" aria-selected="true">
			.sfsi_subscribe_Popinner
			{
								width: 100% !important;
				height: auto !important;
												border: 1px solid #b5b5b5 !important;
								padding: 18px 0px !important;
				background-color: #ffffff !important;
			}
			.sfsi_subscribe_Popinner form
			{
				margin: 0 20px !important;
			}
			.sfsi_subscribe_Popinner h5
			{
				font-family: Helvetica,Arial,sans-serif !important;
								font-weight: bold !important;
								color: #000000 !important;
				font-size: 16px !important;
				text-align: center !important;
				margin: 0 0 10px !important;
    			padding: 0 !important;
			}
			.sfsi_subscription_form_field {
				margin: 5px 0 !important;
				width: 100% !important;
				display: inline-flex;
				display: -webkit-inline-flex;
			}
			.sfsi_subscription_form_field input {
				width: 100% !important;
				padding: 10px 0px !important;
			}
			.sfsi_subscribe_Popinner input[type=email]
			{
				font-family: Helvetica,Arial,sans-serif !important;
								font-style: normal !important;
								color:  !important;
				font-size: 14px !important;
				text-align: center !important;
			}
			.sfsi_subscribe_Popinner input[type=email]::-webkit-input-placeholder {
			   	font-family: Helvetica,Arial,sans-serif !important;
								font-style: normal !important;
								color:  !important;
				font-size: 14px !important;
				text-align: center !important;
			}
			.sfsi_subscribe_Popinner input[type=email]:-moz-placeholder { /* Firefox 18- */
			    font-family: Helvetica,Arial,sans-serif !important;
								font-style: normal !important;
								color:  !important;
				font-size: 14px !important;
				text-align: center !important;
			}
			.sfsi_subscribe_Popinner input[type=email]::-moz-placeholder {  /* Firefox 19+ */
			    font-family: Helvetica,Arial,sans-serif !important;
								font-style: normal !important;
								color:  !important;
				font-size: 14px !important;
				text-align: center !important;
			}
			.sfsi_subscribe_Popinner input[type=email]:-ms-input-placeholder {  
			  	font-family: Helvetica,Arial,sans-serif !important;
								font-style: normal !important;
								color:  !important;
				font-size: 14px !important;
				text-align: center !important;
			}
			.sfsi_subscribe_Popinner input[type=submit]
			{
				font-family: Helvetica,Arial,sans-serif !important;
								font-weight: bold !important;
								color: #000000 !important;
				font-size: 16px !important;
				text-align: center !important;
				background-color: #dedede !important;
			}
		</style><script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/highlight.min.js">
    </script><script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/languages/r.min.js">
    </script><script>hljs.initHighlightingOnLoad();</script><style type="text/css">.saboxplugin-wrap{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;-ms-box-sizing:border-box;box-sizing:border-box;border:1px solid #eee;width:100%;clear:both;display:block;overflow:hidden;word-wrap:break-word;position:relative}.saboxplugin-wrap .saboxplugin-gravatar{float:left;padding:20px}.saboxplugin-wrap .saboxplugin-gravatar img{max-width:100px;height:auto;border-radius:0;}.saboxplugin-wrap .saboxplugin-authorname{font-size:18px;line-height:1;margin:20px 0 0 20px;display:block}.saboxplugin-wrap .saboxplugin-authorname a{text-decoration:none}.saboxplugin-wrap .saboxplugin-authorname a:focus{outline:0}.saboxplugin-wrap .saboxplugin-desc{display:block;margin:5px 20px}.saboxplugin-wrap .saboxplugin-desc a{text-decoration:underline}.saboxplugin-wrap .saboxplugin-desc p{margin:5px 0 12px}.saboxplugin-wrap .saboxplugin-web{margin:0 20px 15px;text-align:left}.saboxplugin-wrap .sab-web-position{text-align:right}.saboxplugin-wrap .saboxplugin-web a{color:#ccc;text-decoration:none}.saboxplugin-wrap .saboxplugin-socials{position:relative;display:block;background:#fcfcfc;padding:5px;border-top:1px solid #eee}.saboxplugin-wrap .saboxplugin-socials a svg{width:20px;height:20px}.saboxplugin-wrap .saboxplugin-socials a svg .st2{fill:#fff}.saboxplugin-wrap .saboxplugin-socials a svg .st1{fill:rgba(0,0,0,.3)}.saboxplugin-wrap .saboxplugin-socials a:hover{opacity:.8;-webkit-transition:opacity .4s;-moz-transition:opacity .4s;-o-transition:opacity .4s;transition:opacity .4s;box-shadow:none!important;-webkit-box-shadow:none!important}.saboxplugin-wrap .saboxplugin-socials .saboxplugin-icon-color{box-shadow:none;padding:0;border:0;-webkit-transition:opacity .4s;-moz-transition:opacity .4s;-o-transition:opacity .4s;transition:opacity .4s;display:inline-block;color:#fff;font-size:0;text-decoration:inherit;margin:5px;-webkit-border-radius:0;-moz-border-radius:0;-ms-border-radius:0;-o-border-radius:0;border-radius:0;overflow:hidden}.saboxplugin-wrap .saboxplugin-socials .saboxplugin-icon-grey{text-decoration:inherit;box-shadow:none;position:relative;display:-moz-inline-stack;display:inline-block;vertical-align:middle;zoom:1;margin:10px 5px;color:#444}.clearfix:after,.clearfix:before{content:' ';display:table;line-height:0;clear:both}.ie7 .clearfix{zoom:1}.saboxplugin-socials.sabox-colored .saboxplugin-icon-color .sab-twitch{border-color:#38245c}.saboxplugin-socials.sabox-colored .saboxplugin-icon-color .sab-addthis{border-color:#e91c00}.saboxplugin-socials.sabox-colored .saboxplugin-icon-color .sab-behance{border-color:#003eb0}.saboxplugin-socials.sabox-colored .saboxplugin-icon-color .sab-delicious{border-color:#06c}.saboxplugin-socials.sabox-colored .saboxplugin-icon-color .sab-deviantart{border-color:#036824}.saboxplugin-socials.sabox-colored .saboxplugin-icon-color .sab-digg{border-color:#00327c}.saboxplugin-socials.sabox-colored .saboxplugin-icon-color .sab-dribbble{border-color:#ba1655}.saboxplugin-socials.sabox-colored .saboxplugin-icon-color .sab-facebook{border-color:#1e2e4f}.saboxplugin-socials.sabox-colored .saboxplugin-icon-color .sab-flickr{border-color:#003576}.saboxplugin-socials.sabox-colored .saboxplugin-icon-color .sab-github{border-color:#264874}.saboxplugin-socials.sabox-colored .saboxplugin-icon-color .sab-google{border-color:#0b51c5}.saboxplugin-socials.sabox-colored .saboxplugin-icon-color .sab-googleplus{border-color:#96271a}.saboxplugin-socials.sabox-colored .saboxplugin-icon-color .sab-html5{border-color:#902e13}.saboxplugin-socials.sabox-colored .saboxplugin-icon-color .sab-instagram{border-color:#1630aa}.saboxplugin-socials.sabox-colored .saboxplugin-icon-color .sab-linkedin{border-color:#00344f}.saboxplugin-socials.sabox-colored .saboxplugin-icon-color .sab-pinterest{border-color:#5b040e}.saboxplugin-socials.sabox-colored .saboxplugin-icon-color .sab-reddit{border-color:#992900}.saboxplugin-socials.sabox-colored .saboxplugin-icon-color .sab-rss{border-color:#a43b0a}.saboxplugin-socials.sabox-colored .saboxplugin-icon-color .sab-sharethis{border-color:#5d8420}.saboxplugin-socials.sabox-colored .saboxplugin-icon-color .sab-skype{border-color:#00658a}.saboxplugin-socials.sabox-colored .saboxplugin-icon-color .sab-soundcloud{border-color:#995200}.saboxplugin-socials.sabox-colored .saboxplugin-icon-color .sab-spotify{border-color:#0f612c}.saboxplugin-socials.sabox-colored .saboxplugin-icon-color .sab-stackoverflow{border-color:#a95009}.saboxplugin-socials.sabox-colored .saboxplugin-icon-color .sab-steam{border-color:#006388}.saboxplugin-socials.sabox-colored .saboxplugin-icon-color .sab-user_email{border-color:#b84e05}.saboxplugin-socials.sabox-colored .saboxplugin-icon-color .sab-stumbleUpon{border-color:#9b280e}.saboxplugin-socials.sabox-colored .saboxplugin-icon-color .sab-tumblr{border-color:#10151b}.saboxplugin-socials.sabox-colored .saboxplugin-icon-color .sab-twitter{border-color:#0967a0}.saboxplugin-socials.sabox-colored .saboxplugin-icon-color .sab-vimeo{border-color:#0d7091}.saboxplugin-socials.sabox-colored .saboxplugin-icon-color .sab-windows{border-color:#003f71}.saboxplugin-socials.sabox-colored .saboxplugin-icon-color .sab-wordpress{border-color:#0f3647}.saboxplugin-socials.sabox-colored .saboxplugin-icon-color .sab-yahoo{border-color:#14002d}.saboxplugin-socials.sabox-colored .saboxplugin-icon-color .sab-youtube{border-color:#900}.saboxplugin-socials.sabox-colored .saboxplugin-icon-color .sab-xing{border-color:#000202}.saboxplugin-socials.sabox-colored .saboxplugin-icon-color .sab-mixcloud{border-color:#2475a0}.saboxplugin-socials.sabox-colored .saboxplugin-icon-color .sab-vk{border-color:#243549}.saboxplugin-socials.sabox-colored .saboxplugin-icon-color .sab-medium{border-color:#00452c}.saboxplugin-socials.sabox-colored .saboxplugin-icon-color .sab-quora{border-color:#420e00}.saboxplugin-socials.sabox-colored .saboxplugin-icon-color .sab-meetup{border-color:#9b181c}.saboxplugin-socials.sabox-colored .saboxplugin-icon-color .sab-goodreads{border-color:#000}.saboxplugin-socials.sabox-colored .saboxplugin-icon-color .sab-snapchat{border-color:#999700}.saboxplugin-socials.sabox-colored .saboxplugin-icon-color .sab-500px{border-color:#00557f}.saboxplugin-socials.sabox-colored .saboxplugin-icon-color .sab-mastodont{border-color:#185886}.sabox-plus-item{margin-bottom:20px}@media screen and (max-width:480px){.saboxplugin-wrap{text-align:center}.saboxplugin-wrap .saboxplugin-gravatar{float:none;padding:20px 0;text-align:center;margin:0 auto;display:block}.saboxplugin-wrap .saboxplugin-gravatar img{float:none;display:inline-block;display:-moz-inline-stack;vertical-align:middle;zoom:1}.saboxplugin-wrap .saboxplugin-desc{margin:0 10px 20px;text-align:center}.saboxplugin-wrap .saboxplugin-authorname{text-align:center;margin:10px 0 20px}}body .saboxplugin-authorname a,body .saboxplugin-authorname a:hover{box-shadow:none;-webkit-box-shadow:none}a.sab-profile-edit{font-size:16px!important;line-height:1!important}.sab-edit-settings a,a.sab-profile-edit{color:#0073aa!important;box-shadow:none!important;-webkit-box-shadow:none!important}.sab-edit-settings{margin-right:15px;position:absolute;right:0;z-index:2;bottom:10px;line-height:20px}.sab-edit-settings i{margin-left:5px}.saboxplugin-socials{line-height:1!important}.rtl .saboxplugin-wrap .saboxplugin-gravatar{float:right}.rtl .saboxplugin-wrap .saboxplugin-authorname{display:flex;align-items:center}.rtl .saboxplugin-wrap .saboxplugin-authorname .sab-profile-edit{margin-right:10px}.rtl .sab-edit-settings{right:auto;left:0}img.sab-custom-avatar{max-width:75px;}.saboxplugin-wrap .saboxplugin-gravatar img {-webkit-border-radius:50%;-moz-border-radius:50%;-ms-border-radius:50%;-o-border-radius:50%;border-radius:50%;}.saboxplugin-wrap .saboxplugin-socials .saboxplugin-icon-color .st1 {display: none;}.saboxplugin-wrap .saboxplugin-gravatar img {-webkit-transition:all .5s ease;-moz-transition:all .5s ease;-o-transition:all .5s ease;transition:all .5s ease;}.saboxplugin-wrap .saboxplugin-gravatar img:hover {-webkit-transform:rotate(45deg);-moz-transform:rotate(45deg);-o-transform:rotate(45deg);-ms-transform:rotate(45deg);transform:rotate(45deg);}.saboxplugin-wrap .saboxplugin-socials .saboxplugin-icon-color svg {border-width: 1px;border-style:solid;}.saboxplugin-wrap .saboxplugin-desc a, .saboxplugin-wrap .saboxplugin-desc  {color:0 !important;}.saboxplugin-wrap .saboxplugin-authorname {font-family:"Bree Serif";}.saboxplugin-wrap .saboxplugin-desc {font-family:Bree Serif;}.saboxplugin-wrap {margin-top:0px; margin-bottom:0px; padding: 0px 0px }.saboxplugin-wrap .saboxplugin-authorname {font-size:16px; line-height:23px;}.saboxplugin-wrap .saboxplugin-desc p, .saboxplugin-wrap .saboxplugin-desc {font-size:14px !important; line-height:21px !important;}.saboxplugin-wrap .saboxplugin-web {font-size:14px;}.saboxplugin-wrap .saboxplugin-socials a svg {width:36px;height:36px;}</style><link rel="stylesheet" id="highlight-css" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/styles/default.min.css?ver=5.1.1" type="text/css" media="all"><script type="text/javascript">
/* <![CDATA[ */
var countVars = {"disqusShortname":"thinkdatascience"};
/* ]]> */
</script><script type="text/javascript" src="https://wwwjk366.github.io/wp-content/plugins/disqus-comment-system/public/js/comment_count.js"></script><script type="text/javascript" src="https://wwwjk366.github.io/wp-includes/js/jquery/ui/core.min.js"></script><script type="text/javascript" src="https://wwwjk366.github.io/wp-content/plugins/ultimate-social-media-icons/js/shuffle/modernizr.custom.min.js"></script><script type="text/javascript" src="https://wwwjk366.github.io/wp-content/plugins/ultimate-social-media-icons/js/shuffle/jquery.shuffle.min.js"></script><script type="text/javascript" src="https://wwwjk366.github.io/wp-content/plugins/ultimate-social-media-icons/js/shuffle/random-shuffle-min.js"></script><script type="text/javascript">
/* <![CDATA[ */
var sfsi_icon_ajax_object = {"ajax_url":"https:\/\/wwwjk366.github.io\/wp-admin\/admin-ajax.php"};
var sfsi_icon_ajax_object = {"ajax_url":"https:\/\/wwwjk366.github.io\/wp-admin\/admin-ajax.php","plugin_url":"https:\/\/wwwjk366.github.io\/wp-content\/plugins\/ultimate-social-media-icons\/"};
/* ]]> */
</script><script type="text/javascript" src="https://wwwjk366.github.io/wp-content/plugins/ultimate-social-media-icons/js/custom.js"></script><script type="text/javascript" src="https://wwwjk366.github.io/wp-content/themes/invisible-assassin/js/navigation.js"></script><script type="text/javascript" src="https://wwwjk366.github.io/wp-content/themes/invisible-assassin/js/skip-link-focus-fix.js"></script><script type="text/javascript" src="https://wwwjk366.github.io/wp-content/themes/invisible-assassin/js/custom.js"></script><script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML&ver=5.1.1"></script></body></html>
